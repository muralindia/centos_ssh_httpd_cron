We use chef cookbook with environments and attribute to ensure chef-client is periodically connecting to chef server for updates.

